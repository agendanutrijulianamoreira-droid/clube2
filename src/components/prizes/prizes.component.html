<div class="p-8">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold text-gray-800">Gerenciar Prêmios</h2>
    <button (click)="createNewPrize()" class="flex items-center bg-primary text-white px-4 py-2 rounded-lg shadow-md hover:bg-primary-focus transition-colors">
      <i-lucide name="plus-circle" class="w-5 h-5 mr-2"></i-lucide>
      Novo Prêmio
    </button>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for(prize of prizes(); track prize.id) {
      <div class="bg-white rounded-xl shadow-lg border p-6 flex flex-col justify-between">
        <div>
          <div class="flex items-center text-secondary mb-2">
            <i-lucide name="star" class="w-6 h-6 mr-2"></i-lucide>
            <span class="font-bold text-xl">{{ prize.requiredPoints }} Pontos</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-800">{{ prize.name }}</h3>
          <p class="text-sm text-gray-500 mt-1">{{ prize.description }}</p>
        </div>
        <button (click)="editPrize(prize)" class="mt-4 text-sm font-medium text-primary hover:text-primary-focus text-right">
          Editar
        </button>
      </div>
    } @empty {
      <div class="col-span-full bg-white p-8 rounded-xl shadow-lg text-center text-gray-500">
        Nenhum prêmio cadastrado.
      </div>
    }
  </div>
</div>

<!-- Modal -->
@if (showModal() && editingPrize(); as prize) {
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg m-4">
      <div class="p-6 border-b">
        <h3 class="text-xl font-bold text-gray-800">{{ prize.id ? 'Editar Prêmio' : 'Novo Prêmio' }}</h3>
      </div>
      <div class="p-6 space-y-4">
        <div>
          <label for="prize-name" class="block text-sm font-medium text-gray-700">Nome</label>
          <input type="text" id="prize-name" [(ngModel)]="prize.name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary">
        </div>
        <div>
          <label for="prize-desc" class="block text-sm font-medium text-gray-700">Descrição</label>
          <input type="text" id="prize-desc" [(ngModel)]="prize.description" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary">
        </div>
        <div>
          <label for="prize-points" class="block text-sm font-medium text-gray-700">Pontos Necessários</label>
          <input type="number" id="prize-points" [(ngModel)]="prize.requiredPoints" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary">
        </div>
      </div>
      <div class="px-6 py-4 bg-gray-50 flex justify-end space-x-3">
        <button (click)="closeModal()" class="bg-white text-gray-700 px-4 py-2 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50">Cancelar</button>
        <button (click)="savePrize()" class="bg-primary text-white px-6 py-2 rounded-lg shadow-md hover:bg-primary-focus">Salvar</button>
      </div>
    </div>
  </div>
}
