<div class="p-8 bg-gray-50 min-h-full">
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-800">Bem-vinda ao Clube!</h2>
      <p class="text-gray-600 mt-2">Aqui está o seu progresso e o ranking da comunidade.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Left column: Active Challenge -->
      <div class="md:col-span-2">
        <div class="bg-white p-6 rounded-xl shadow-lg border">
          <h3 class="text-xl font-bold text-gray-800 mb-4">Desafio Ativo</h3>
          @if (activeChallenge(); as challenge) {
            <div>
              <h4 class="text-lg font-semibold text-primary">{{ challenge.name }}</h4>
              <p class="text-sm text-gray-600 mt-1">{{ challenge.description }}</p>
              <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-600 mb-1">
                  <span>Progresso</span>
                  <span>Dia 3 de {{ challenge.duration }}</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                  <div class="bg-primary h-2.5 rounded-full" [style.width.%]="(3/challenge.duration)*100"></div>
                </div>
              </div>
              <button class="mt-6 w-full bg-primary text-white font-semibold py-2.5 rounded-lg shadow-md hover:bg-primary-focus transition-colors">
                Ver Missão de Hoje
              </button>
            </div>
          } @else {
            <div class="text-center py-8 text-gray-500">
              <i-lucide name="calendar-off" class="w-12 h-12 mx-auto text-gray-300 mb-4"></i-lucide>
              <p>Nenhum desafio ativo no momento.</p>
              <p class="text-sm">Aguarde o próximo início!</p>
            </div>
          }
        </div>

        <div class="mt-8 bg-white p-6 rounded-xl shadow-lg border">
           <h3 class="text-xl font-bold text-gray-800 mb-4">Acesso Rápido</h3>
           <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
               <a href="#" class="block p-4 bg-teal-50 hover:bg-teal-100 rounded-lg transition-colors">
                   <div class="flex items-center">
                       <i-lucide name="utensils-crossed" class="w-6 h-6 mr-3 text-primary"></i-lucide>
                       <div>
                           <p class="font-semibold text-gray-800">Cardápio do Mês</p>
                           <p class="text-xs text-gray-500">Acessar o plano alimentar</p>
                       </div>
                   </div>
               </a>
               <a href="#" class="block p-4 bg-pink-50 hover:bg-pink-100 rounded-lg transition-colors">
                   <div class="flex items-center">
                       <i-lucide name="message-circle" class="w-6 h-6 mr-3 text-accent"></i-lucide>
                       <div>
                           <p class="font-semibold text-gray-800">Grupo no WhatsApp</p>
                           <p class="text-xs text-gray-500">Interagir com a comunidade</p>
                       </div>
                   </div>
               </a>
           </div>
        </div>
      </div>

      <!-- Right column: Leaderboard -->
      <div class="md:col-span-1">
        <div class="bg-white p-6 rounded-xl shadow-lg border h-full">
          <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Ranking</h3>
          <ul class="space-y-4">
            @for (member of members(); track member.id; let i = $index) {
              <li class="flex items-center">
                <div class="w-8 text-center font-bold" [class]="getTrophyColor(i)">
                  @if (i < 3) {
                    <i-lucide name="trophy" class="w-6 h-6 mx-auto"></i-lucide>
                  } @else {
                    <span class="text-gray-500 text-lg">{{ i + 1 }}</span>
                  }
                </div>
                <img [src]="member.avatarUrl" alt="{{ member.name }}" class="w-10 h-10 rounded-full mx-3 object-cover">
                <div class="flex-1">
                  <p class="font-semibold text-gray-800 text-sm">{{ member.name }}</p>
                  <p class="text-xs text-gray-500">{{ member.points }} pontos</p>
                </div>
              </li>
            }
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
